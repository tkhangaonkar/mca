<script>
    window.addEventListener('DOMContentLoaded', (event) => {
        let source = ["https://financialmodelingprep.com/api/v3/balance-sheet-statement/AAPL?period=annual&apikey=RslEVBRQCqRMloHRNgFZKgkM1UhHPCKM"]
        let index = 0
        while (index < source.length) {
            console.log("fetching from" + source[index]);
            fetch(source[index])
                .then(response => response.json())
                .then(data => {
                    console.log(data);
                    let dat = JSON.stringify(data);
                    dat1 = data;
                    console.log(dat1);
                    let bod = document.getElementById("body");
                    var tb = document.getElementById("tb1");

                    for (let i = 0; i < dat1.length; i++) {
                        var tr = document.createElement('tr');
                        var td = document.createElement('td');
                        td.innerHTML = dat1[i]["date"];
                        tr.appendChild(td);
                        tb.appendChild(tr);
                        var td = document.createElement('td');
                        td.innerHTML = dat1[i]["net Receivables"];
                        tr.appendChild(td);
                        tb.appendChild(tr);
                        I
                        var td = document.createElement('td');
                        td.innerHTML = dat1[i]["account Payables"];
                        tr.appendChild(td);
                        tb.appendChild(tr);
                        var td = document.createElement('td');
                        td.innerHTML = dat1[i]["netDebt"];
                        tr.appendChild(td);
                        tb.appendChild(tr);
                    }
                })

                .catch(error => console.log('error', error))
            index += 1;
        }
    })

</script>
